<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Money Personality Quiz</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background: #f9f9f9;
      color: #333;
    }

    .quiz-container {
      max-width: 700px;
      margin: auto;
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0px 4px 8px rgba(0,0,0,0.1);
    }

    .question {
      font-size: 18px;
      margin-bottom: 20px;
    }

    .options {
      display: flex;
      justify-content: space-between;
      margin-bottom: 20px;
    }

    .options label {
      flex: 1;
      text-align: center;
      margin: 0 5px;
      padding: 10px;
      border-radius: 6px;
      cursor: pointer;
      color: white;
      font-size: 14px;
      transition: transform 0.2s ease;
    }

    .options input {
      display: none;
    }

    /* Different colors for each option */
    .strongly-disagree { background: #d9534f; } /* red */
    .disagree { background: #f0ad4e; } /* orange */
    .neutral { background: #5bc0de; } /* blue */
    .agree { background: #5cb85c; } /* green */
    .strongly-agree { background: #4a148c; } /* purple */

    .options input:checked + label {
      border: 2px solid black;
      transform: scale(1.1);
    }

    .progress-bar {
      height: 20px;
      background: #e0e0e0;
      border-radius: 10px;
      overflow: hidden;
      margin-bottom: 20px;
    }

    .progress {
      height: 100%;
      background: #4caf50;
      width: 0;
      transition: width 0.3s;
    }

    .result {
      margin-top: 20px;
      padding: 15px;
      background: #f1f1f1;
      border-radius: 8px;
    }

    button {
      background: #4caf50;
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 16px;
    }

    button:hover {
      background: #45a049;
    }
  </style>
</head>
<body>
  <div class="quiz-container">
    <h2>Money Personality Quiz</h2>
    <div class="progress-bar"><div class="progress"></div></div>
    <div id="quiz"></div>
    <button id="nextBtn">Next</button>
    <div id="result" class="result" style="display:none;"></div>
    <button id="downloadBtn" style="display:none;">Download CSV</button>
  </div>

  <script>
    const questions = [
      "I decide how much of my income to save each month based on specific goals or priorities.",
      "I evaluate investment opportunities by considering key factors like risk and potential return.",
      "My beliefs and values shape how I view money and financial decisions.",
      "I determine how much I give to others without compromising my own financial stability.",
      "My spending decisions are motivated by comfort, joy, or necessity.",
      "I find certain aspects of financial management, like budgeting or bill payments, overwhelming or stressful.",
      "I am attracted to high-risk, high-reward financial opportunities.",
      "I find it challenging to make financial decisions that conflict with my spiritual or personal values.",
      "I have felt financially strained because of my generosity but have learned to manage the situation.",
      "Most of my purchases are spontaneous rather than planned in advance.",
      "I rarely review my budget or track my spending habits.",
      "I balance my portfolio by combining high-risk and low-risk investments.",
      "I have faced financial challenges due to overspending but have learned how to handle them.",
      "I incorporate saving into my lifestyle in ways that feel manageable and not restrictive.",
      "I rely on specific methods to ensure that important financial responsibilities are met.",
      "I have experienced significant financial losses from taking risks and learned valuable lessons.",
      "I avoid discussing money matters with others because it feels uncomfortable.",
      "I aim to enjoy my wealth while planning for long-term growth.",
      "I carefully evaluate whether a financial risk is worth taking.",
      "I embrace money as a tool for good while staying true to my values.",
      "I often feel anxious about spending money, even on necessary or enjoyable items.",
      "Ignoring finances has negatively impacted my long-term financial goals.",
      "My giving habits are driven by strong emotions or values.",
      "I have clear long-term financial goals and take steps to ensure I am on track to achieve them.",
      "I set boundaries and budgets for giving to balance generosity with financial stability.",
      "I have learned valuable lessons from both successful and unsuccessful investments.",
      "I create a safety net to protect against losses when risks donâ€™t pay off.",
      "I balance financial growth with a focus on purpose and community.",
      "I understand how setting limits on giving allows me to continue helping others while securing my own needs.",
      "I ensure my financial decisions align with my personal values and goals.",
      "I am taking small, manageable steps to improve my financial habits.",
      "I try to balance saving for the future while allowing myself to enjoy the present.",
      "I balance enjoying life now with planning for my financial future.",
      "I incorporate safer financial practices while maintaining my adventurous spirit.",
      "I rarely treat myself or splurge on something I want, and when I do, it feels uncomfortable."
    ];

    const personalityMap = {
      "Saver": [1, 21, 24, 32, 35],
      "Spender": [5, 10, 13, 14, 33],
      "Avoider": [6, 11, 15, 22, 31],
      "Giver": [4, 9, 23, 25, 29],
      "Investor": [2, 12, 18, 26, 30],
      "Risk-Taker": [7, 16, 19, 27, 34],
      "Money Monk": [3, 8, 17, 20, 28]
    };

    const descriptions = {
      "Saver": {
        characteristics: "Budget-focused and disciplined. Prefers to save for emergencies and long-term goals. Avoids unnecessary expenses and enjoys financial security.",
        blindspots: "Excessive frugality can lead to missed opportunities for enjoyment or experiences. May develop anxiety about spending."
      },
      "Spender": {
        characteristics: "Loves immediate gratification through purchases. Focuses on enjoying life in the present moment. May prioritize comfort and experiences over saving.",
        blindspots: "Lack of planning can lead to debt or instability. May be unprepared for emergencies."
      },
      "Avoider": {
        characteristics: "Avoids thinking about or managing finances. Procrastinates on budgeting. Often overwhelmed by financial decisions.",
        blindspots: "Ignoring finances can cause long-term issues like debt or instability. May feel unprepared when facing decisions."
      },
      "Giver": {
        characteristics: "Finds fulfillment in helping others. Often feels responsible for family/community. Prioritizes generosity over personal stability.",
        blindspots: "Over-giving may harm their financial security. Struggles with boundaries, leading to strain."
      },
      "Investor": {
        characteristics: "Focuses on growing wealth through strategic investments. Seeks opportunities in business, real estate, or stocks.",
        blindspots: "Hyper-focus on growth can neglect present joys or relationships. May become overly cautious."
      },
      "Risk-Taker": {
        characteristics: "Enjoys high-risk, high-reward ventures. Thrives on bold, entrepreneurial pursuits.",
        blindspots: "Excessive risk-taking may cause losses and instability. Might overlook diversification."
      },
      "Money Monk": {
        characteristics: "Views money with suspicion. Values purpose and simplicity over wealth. Avoids discussing finances.",
        blindspots: "Avoidance may cause instability or missed opportunities. Reluctance to use money as a tool for good."
      }
    };

    let currentQuestion = 0;
    let answers = [];

    function showQuestion() {
      const quizDiv = document.getElementById("quiz");
      quizDiv.innerHTML = `
        <div class="question">${questions[currentQuestion]}</div>
        <div class="options">
          <input type="radio" id="opt1" name="q" value="1">
          <label for="opt1" class="strongly-disagree">Strongly Disagree</label>
          <input type="radio" id="opt2" name="q" value="2">
          <label for="opt2" class="disagree">Disagree</label>
          <input type="radio" id="opt3" name="q" value="3">
          <label for="opt3" class="neutral">Neutral</label>
          <input type="radio" id="opt4" name="q" value="4">
          <label for="opt4" class="agree">Agree</label>
          <input type="radio" id="opt5" name="q" value="5">
          <label for="opt5" class="strongly-agree">Strongly Agree</label>
        </div>
      `;

      document.querySelector(".progress").style.width = ((currentQuestion) / questions.length) * 100 + "%";
    }

    document.getElementById("nextBtn").addEventListener("click", () => {
      const selected = document.querySelector("input[name='q']:checked");
      if (!selected) { alert("Please select an option!"); return; }
      answers.push(parseInt(selected.value));
      currentQuestion++;
      if (currentQuestion < questions.length) {
        showQuestion();
      } else {
        calculateResult();
      }
    });

    function calculateResult() {
      let scores = {};
      for (let p in personalityMap) scores[p] = 0;

      for (let p in personalityMap) {
        personalityMap[p].forEach(q => {
          scores[p] += answers[q - 1] || 0;
        });
      }

      const best = Object.keys(scores).reduce((a, b) => scores[a] > scores[b] ? a : b);
      document.getElementById("quiz").style.display = "none";
      document.getElementById("nextBtn").style.display = "none";

      document.getElementById("result").style.display = "block";
      document.getElementById("result").innerHTML = `
        <h3>Your Money Personality: ${best}</h3>
        <p><b>Characteristics:</b> ${descriptions[best].characteristics}</p>
        <p><b>Blind Spots:</b> ${descriptions[best].blindspots}</p>
      `;

      document.getElementById("downloadBtn").style.display = "block";
      document.getElementById("downloadBtn").onclick = () => downloadCSV(best, descriptions[best]);
    }

    function downloadCSV(type, desc) {
      let csvContent = "data:text/csv;charset=utf-8,Personality,Characteristics,Blindspots\n";
      csvContent += `"${type}","${desc.characteristics}","${desc.blindspots}"\n`;
      const link = document.createElement("a");
      link.setAttribute("href", encodeURI(csvContent));
      link.setAttribute("download", "money_personality.csv");
      document.body.appendChild(link);
      link.click();
    }

    showQuestion();
  </script>
</body>
</html>
